# RFP-003: Long-Term Block Data Storage

- Accepting one or multiple proposals: **Multiple**
- Submit by: **Paused**
- Selection by: **Paused**
- RFP Category: `infrastructure`
- Discuss the RFP here: [Link](https://forum.availproject.org/t/discussion-rfp-003-long-term-block-data-storage/619)
- Application Form: [Link](https://airtable.com/app3uGEo7mZ5jbIfW/pagx1Wk6Fa1tEgqH8/form)

## Context/Background
Avail is a blockchain focused on _“data availability”_ which means that it is designed to order and publish data (usually transaction data from other blockchains) and provide a high degree of confidence that the data was indeed published correctly.

Note that the focus is on ensuring that block data was published properly, not that it is stored long-term. The Avail validators/nodes currently do store all data generated by the network, because it is still new. Eventually, we plan to begin pruning block data older than some cutoff. To that end, Avail will benefit from a complementary solution designed specifically for data storage.

## Project Description

A long-term data storage solution tailored to work with Avail would ideally have the following requirements:
- [P0] Observe the Avail network and detect when new blocks are finalized
- [P0] Automatically archive block data for finalized blocks
- [P0] Provide documentation for strong guarantees of continued storage
- [P0] Provide a method of retrieving the archived data
  - [P1] Programmatic retrieval built into the Avail node, so that a node can be synced from genesis even after old blocks have been pruned from the other nodes on the network (via a command-line option/config)
- [P1] Provide a method for checking if archived data is still available
  - [P2] Surface this info on a web-based status page or dashboard


## Additional Information
Avail is based on [Substrate](https://substrate.io/), and much of the tooling available for Substrate/Polkadot will work with Avail with some tweaking. We have a library called `[avail-js](https://github.com/availproject/avail-js)` that wraps `[polkadot.js](https://polkadot.js.org/docs/)` and provides a way to access most chain functionality. 

The block production and finality algorithms are GRANDPA/BABE. This is relevant because it makes sense to only store blocks once they have been finalized. The GRANDPA algorithm can be used to determine which blocks have been finalized, rather than using a trailing number of blocks or some other heuristic. For an overview, see [here](https://medium.com/polkadot-network/grandpa-block-finality-in-polkadot-an-introduction-part-1-d08a24a021b5).
 

## References
- [Reference paper and repo links](https://github.com/availproject/data-availability)
- [Avail documentation](https://docs.availproject.org/)
  - [Communicating with Avail via RPC](https://availproject.github.io/using-avail/communicating-with-avail) – see also:
    - [avail-js repository](https://github.com/availproject/avail-js) - library to connect to the Avail network
    - [polkadot.js documentation](https://polkadot.js.org/docs/) (generally works with Avail via avail-js)
- [Embedding the Light Client](https://docs.availproject.org/api/light-client/embedding-the-light-client/)
- [Substrate](https://substrate.io/)
- [GRANDPA finality overview](https://medium.com/polkadot-network/grandpa-block-finality-in-polkadot-an-introduction-part-1-d08a24a021b5)

## Milestones and Funding
Please include in your proposal a set of milestones and a budget. It should be tailored for the specific details of the proposed project, but the following is an example of the kind of detail and format expected:

_**(Feel free to modify this table to accommodate for the milestones with respect to the RFP - this is just a boilerplate example)**_

| # | Description                                                                          | Funding | Timeframe (Est) |
|---|--------------------------------------------------------------------------------------|---------|-----------------|
| 1 | Detailed technical design                                                            | TBD     | 2 weeks         |
| 2 | Running a full node                                                                  | TBD     | 1 weeks         |
| 3 | Retrieve Finalized blocks and store off-chain                                        | TBD     | 2 weeks         |
| 4 | Testing, benchmarking & documentation                                                | TBD     | 2 weeks         |
| 5 | Project deliverables are open-sourced and made public (codebase, documentation, etc) | TBD     | 1 week          |
| 6 | Ongoing maintenance updates                                                          | TBD     | Ongoing         |


## Recommended Team
We recommend putting together a team with the following profile:
- Solid knowledge of blockchain fundamentals as well as experience with archive node design and development.
- Specific experience with the Substrate, which can be helpful to build a solution tailored to Avail.
- Specific experience in working with blockchain data storage and indexing.
- Prior experience building with substrate blockchains is a plus.

Please provide links to your team members' Github or LinkedIn profiles.

## Application instructions
- **To submit a grant proposal, please [submit this Form](https://airtable.com/app3uGEo7mZ5jbIfW/pagx1Wk6Fa1tEgqH8/form).**
- Get involved with discussing the RFP with the team and[ with the rest of the community here](https://forum.availproject.org/t/discussion-rfp-003-long-term-block-data-storage/619). 

For questions about submitting a proposal, you can also email `exploration[at]availproject[dot]org`

You can also contact us via Discord via the #grants channel.
